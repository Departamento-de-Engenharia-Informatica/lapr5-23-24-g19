<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="795px" preserveAspectRatio="none" style="width:937px;height:795px;background:#FFFFFF;" version="1.1" viewBox="0 0 937 795" width="937px" zoomAndPan="magnify"><defs/><g><rect fill="#FFFFFF" height="784.2734" style="stroke:#000000;stroke-width:1.5;" width="922" x="9" y="5"/><path d="M41,5 L41,14.4883 L31,24.4883 L9,24.4883 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="22" x="12" y="19.5352">MD</text><rect fill="#ADD8E6" height="740.543" style="stroke:#181818;stroke-width:0.5;" width="628" x="201" y="32.4883"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="65" x="482.5" y="45.0566">Back-End</text><rect fill="#DDDDDD" height="740.543" style="stroke:#181818;stroke-width:0.5;" width="87" x="831" y="32.4883"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="63" x="843" y="45.0566">Database</text><rect fill="#FFFFFF" height="551.9453" style="stroke:#181818;stroke-width:1.0;" width="10" x="227" y="145.5977"/><rect fill="#FFFFFF" height="522.6348" style="stroke:#181818;stroke-width:1.0;" width="10" x="347" y="174.9082"/><rect fill="#FFFFFF" height="493.3242" style="stroke:#181818;stroke-width:1.0;" width="10" x="467" y="204.2188"/><rect fill="#FFFFFF" height="47.9766" style="stroke:#181818;stroke-width:1.0;" width="10" x="580.5" y="430.0371"/><rect fill="#FFFFFF" height="87.2871" style="stroke:#181818;stroke-width:1.0;" width="10" x="649" y="507.3242"/><rect fill="#FFFFFF" height="47.9766" style="stroke:#181818;stroke-width:1.0;" width="10" x="798" y="546.6348"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="869.5" y="233.5293"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="869.5" y="478.0137"/><rect fill="none" height="412.0137" style="stroke:#000000;stroke-width:1.5;" width="909" x="15" y="278.5293"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="38" x2="38" y1="114.2871" y2="707.543"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="232" x2="232" y1="114.2871" y2="707.543"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="352" x2="352" y1="114.2871" y2="707.543"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="472" x2="472" y1="114.2871" y2="707.543"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="585" x2="585" y1="437.7148" y2="707.543"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="654" x2="654" y1="114.2871" y2="707.543"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="803" x2="803" y1="554.3125" y2="707.543"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="874" x2="874" y1="114.2871" y2="707.543"/><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="26" x="25" y="82.7988"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="12" x="32" y="103.334">??</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="26" x="25" y="706.543"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="12" x="32" y="727.0781">??</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="54" x="205" y="82.7988"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="40" x="212" y="103.334">Route</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="54" x="205" y="706.543"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="40" x="212" y="727.0781">Route</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="84" x="310" y="82.7988"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="70" x="317" y="103.334">Controller</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="84" x="310" y="706.543"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="70" x="317" y="727.0781">Controller</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="62" x="441" y="82.7988"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="48" x="448" y="103.334">Service</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="62" x="441" y="706.543"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="48" x="448" y="727.0781">Service</text><rect fill="#E2E2F0" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="51" x="560" y="706.543"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="37" x="567" y="727.0781">floor:</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="36" x="567.5" y="743.5664">Floor</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="66" x="621" y="82.7988"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="52" x="628" y="103.334">Mapper</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="66" x="621" y="706.543"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="52" x="628" y="727.0781">Mapper</text><rect fill="#E2E2F0" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="44" x="781" y="706.543"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="27" x="789.5" y="727.0781">dto:</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="30" x="788" y="743.5664">DTO</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="73" x="835" y="111.334">Repository</text><path d="M856.5,61.7988 C856.5,51.7988 874.5,51.7988 874.5,51.7988 C874.5,51.7988 892.5,51.7988 892.5,61.7988 L892.5,87.7988 C892.5,97.7988 874.5,97.7988 874.5,97.7988 C874.5,97.7988 856.5,97.7988 856.5,87.7988 L856.5,61.7988 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M856.5,61.7988 C856.5,71.7988 874.5,71.7988 874.5,71.7988 C874.5,71.7988 892.5,71.7988 892.5,61.7988 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="73" x="835" y="720.0781">Repository</text><path d="M856.5,733.0313 C856.5,723.0313 874.5,723.0313 874.5,723.0313 C874.5,723.0313 892.5,723.0313 892.5,733.0313 L892.5,759.0313 C892.5,769.0313 874.5,769.0313 874.5,769.0313 C874.5,769.0313 856.5,769.0313 856.5,759.0313 L856.5,733.0313 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M856.5,733.0313 C856.5,743.0313 874.5,743.0313 874.5,743.0313 C874.5,743.0313 892.5,743.0313 892.5,733.0313 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><rect fill="#FFFFFF" height="551.9453" style="stroke:#181818;stroke-width:1.0;" width="10" x="227" y="145.5977"/><rect fill="#FFFFFF" height="522.6348" style="stroke:#181818;stroke-width:1.0;" width="10" x="347" y="174.9082"/><rect fill="#FFFFFF" height="493.3242" style="stroke:#181818;stroke-width:1.0;" width="10" x="467" y="204.2188"/><rect fill="#FFFFFF" height="47.9766" style="stroke:#181818;stroke-width:1.0;" width="10" x="580.5" y="430.0371"/><rect fill="#FFFFFF" height="87.2871" style="stroke:#181818;stroke-width:1.0;" width="10" x="649" y="507.3242"/><rect fill="#FFFFFF" height="47.9766" style="stroke:#181818;stroke-width:1.0;" width="10" x="798" y="546.6348"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="869.5" y="233.5293"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="869.5" y="478.0137"/><polygon fill="#181818" points="215,141.5977,225,145.5977,215,149.5977,219,145.5977" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="38" x2="221" y1="145.5977" y2="145.5977"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="45" y="140.8555">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="73" x="58" y="140.8555">post(/floor)</text><polygon fill="#181818" points="335,170.9082,345,174.9082,335,178.9082,339,174.9082" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="237" x2="341" y1="174.9082" y2="174.9082"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="244" y="170.166">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="78" x="257" y="170.166">createFloor()</text><polygon fill="#181818" points="455,200.2188,465,204.2188,455,208.2188,459,204.2188" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="357" x2="461" y1="204.2188" y2="204.2188"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="364" y="199.4766">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="78" x="377" y="199.4766">createFloor()</text><polygon fill="#181818" points="857.5,229.5293,867.5,233.5293,857.5,237.5293,861.5,233.5293" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="477" x2="863.5" y1="233.5293" y2="233.5293"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="484" y="228.7871">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="110" x="497" y="228.7871">exists(buildingId)</text><path d="M15,278.5293 L77,278.5293 L77,285.8398 L67,295.8398 L15,295.8398 L15,278.5293 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="412.0137" style="stroke:#000000;stroke-width:1.5;" width="909" x="15" y="278.5293"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17" x="30" y="292.0977">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="114" x="92" y="291.1641">[building not found]</text><polygon fill="#181818" points="368,313.1504,358,317.1504,368,321.1504,364,317.1504" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="362" x2="466" y1="317.1504" y2="317.1504"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="374" y="312.4082">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="30" x="387" y="312.4082">error</text><polygon fill="#181818" points="248,342.4609,238,346.4609,248,350.4609,244,346.4609" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="242" x2="346" y1="346.4609" y2="346.4609"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="254" y="341.7188">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="66" x="267" y="341.7188">error (412)</text><polygon fill="#181818" points="49,371.7715,39,375.7715,49,379.7715,45,375.7715" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="43" x2="226" y1="375.7715" y2="375.7715"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="55" y="371.0293">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="152" x="68" y="371.0293">412: Precondition Failed</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="15" x2="924" y1="384.7715" y2="384.7715"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="153" x="20" y="395.4063">[floor created successfully]</text><polygon fill="#181818" points="548,416.0371,558,420.0371,548,424.0371,552,420.0371" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="477" x2="554" y1="420.0371" y2="420.0371"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="484" y="415.2949">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="46" x="497" y="415.2949">create()</text><rect fill="#E2E2F0" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="51" x="560" y="398.7266"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="37" x="567" y="419.2617">floor:</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="36" x="567.5" y="435.75">Floor</text><polygon fill="#181818" points="857.5,474.0137,867.5,478.0137,857.5,482.0137,861.5,478.0137" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="477" x2="863.5" y1="478.0137" y2="478.0137"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="484" y="473.2715">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="66" x="497" y="473.2715">save(floor)</text><polygon fill="#181818" points="637,503.3242,647,507.3242,637,511.3242,641,507.3242" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="477" x2="643" y1="507.3242" y2="507.3242"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="484" y="502.582">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="79" x="506" y="502.582">toDTO(floor)</text><polygon fill="#181818" points="769,532.6348,779,536.6348,769,540.6348,773,536.6348" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="659" x2="775" y1="536.6348" y2="536.6348"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="666" y="531.8926">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="76" x="688" y="531.8926">create(floor)</text><rect fill="#E2E2F0" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="44" x="781" y="515.3242"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="27" x="789.5" y="535.8594">dto:</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="30" x="788" y="552.3477">DTO</text><polygon fill="#181818" points="488,590.6113,478,594.6113,488,598.6113,484,594.6113" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="482" x2="653" y1="594.6113" y2="594.6113"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="494" y="589.8691">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="21" x="516" y="589.8691">dto</text><polygon fill="#181818" points="368,619.9219,358,623.9219,368,627.9219,364,623.9219" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="362" x2="466" y1="623.9219" y2="623.9219"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="374" y="619.1797">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="21" x="396" y="619.1797">dto</text><polygon fill="#181818" points="248,649.2324,238,653.2324,248,657.2324,244,653.2324" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="242" x2="346" y1="653.2324" y2="653.2324"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="254" y="648.4902">14</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="57" x="276" y="648.4902">dto (201)</text><polygon fill="#181818" points="49,678.543,39,682.543,49,686.543,45,682.543" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="43" x2="226" y1="682.543" y2="682.543"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="55" y="677.8008">15</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="80" x="77" y="677.8008">201: Created</text><!--MD5=[1a5171a0231722f1724e4c7c3173751c]
@startuml
autonumber

participant "??" as ui

mainframe MD
box "Back-End" #LightBlue
participant "Route" as r
participant "Controller" as ctrl
participant "Service" as svc

participant "floor:\nFloor" as floor
participant "Mapper" as map
participant "dto:\nDTO" as dto
end box

box "Database"
database "Repository" as repo
end box

'activate ui
ui - -> r: post(/floor)
    activate r
        r -> ctrl : createFloor()
        activate ctrl
            ctrl -> svc : createFloor()
            activate svc
                svc -> repo : exists(buildingId)
                activate repo
                deactivate repo

                alt building not found
                    svc - -> ctrl : error
                    ctrl - -> r : error (412)
                    r - -> ui : 412: Precondition Failed
                else floor created successfully
                    svc - -> floor** : create()
                    activate floor
                        svc -> repo : save(floor)
                    deactivate floor

                    activate repo
                        svc -> map : toDTO(floor)
                    deactivate repo

                    activate map
                        map - -> dto** : create(floor)
                        activate dto
                            map - -> svc : dto
                        deactivate dto
                    deactivate map

                    svc - -> ctrl : dto
                    ctrl - -> r : dto (201)
                    r - -> ui : 201: Created
                end
            deactivate svc
        deactivate ctrl
    deactivate r

'deactivate ui

@enduml

@startuml
autonumber

participant "??" as ui

mainframe MD
box "Back-End" #LightBlue
participant "Route" as r
participant "Controller" as ctrl
participant "Service" as svc

participant "floor:\nFloor" as floor
participant "Mapper" as map
participant "dto:\nDTO" as dto
end box

box "Database"
database "Repository" as repo
end box

ui - -> r: post(/floor)
    activate r
        r -> ctrl : createFloor()
        activate ctrl
            ctrl -> svc : createFloor()
            activate svc
                svc -> repo : exists(buildingId)
                activate repo
                deactivate repo

                alt building not found
                    svc - -> ctrl : error
                    ctrl - -> r : error (412)
                    r - -> ui : 412: Precondition Failed
                else floor created successfully
                    svc - -> floor** : create()
                    activate floor
                        svc -> repo : save(floor)
                    deactivate floor

                    activate repo
                        svc -> map : toDTO(floor)
                    deactivate repo

                    activate map
                        map - -> dto** : create(floor)
                        activate dto
                            map - -> svc : dto
                        deactivate dto
                    deactivate map

                    svc - -> ctrl : dto
                    ctrl - -> r : dto (201)
                    r - -> ui : 201: Created
                end
            deactivate svc
        deactivate ctrl
    deactivate r


@enduml

PlantUML version 1.2022.7(Mon Aug 22 18:01:30 WEST 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: PT
--></g></svg>