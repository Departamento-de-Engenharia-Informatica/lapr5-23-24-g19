@startuml
autonumber

actor "Campus Manager" as usr

participant "HTML + CSS + JS" as view
participant "Controller" as ctrl
participant "Service" as svc
participant "dto:\nDTO" as dto

participant "HTTP Driver" as http

participant "MD" as md

activate usr
    usr -> view : wants to create building
    activate view
        view --> usr : request data
    deactivate view

    usr -> view : provides data
    activate view
        view -> ctrl : submit()
        activate ctrl
            ctrl --> dto** : create()
            activate dto
                dto --> ctrl : dto
            deactivate dto
            ctrl -> svc : createBuilding(dto)
            activate svc
                svc -> http : post({baseUrl}/buildings)
                activate http
                http -> md : POST /buildings
                    activate md
                        note right of md : see US 150 documentation
alt building not created
                        md --> http : 422: error
                        http --> svc : observer
                        svc --> ctrl : error
                        view --> usr : informs error
else success
                        md --> http : 201: building
                    deactivate md
                    http --> svc : observer
                deactivate http
                svc --> dto** : create()
                activate dto
                    dto --> svc : dto
                deactivate dto
                svc --> ctrl : dto
            deactivate svc
            ctrl --> ctrl : buildingCreated.emit(building)
            view --> usr : shows created building
        deactivate ctrl
    deactivate view
deactivate usr
end
@enduml
